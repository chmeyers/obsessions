# Small events that don't involve long chains.
namespace = obsessions_mod_minor

# Outgassing Asteroid
ship_event = {
	id = obsessions_mod_minor.1
	title = "obsessions_mod_minor.1.name"
	desc = "obsessions_mod_minor.1.desc"
	picture = GFX_evt_asteroid_field
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.1.a
		ship_event = { id = obsessions_mod_minor.2 from = FROM }
	}
	option = {
		name = obsessions_mod_minor.1.b
		ship_event = { id = obsessions_mod_minor.3 from = FROM }
	}
	option = {
		trigger = {
			OR = {
				owner = {
					OR = {
						has_ethic = ethic_fanatic_materialist
						has_ethic = ethic_materialist
					}
				}
				leader = {
					OR = {
						has_trait = leader_trait_curator
						has_trait = leader_trait_expertise_particles
						has_trait = leader_trait_expertise_materials
						has_trait = leader_trait_expertise_propulsion
					}
				}
			}
		}
		name = obsessions_mod_minor.1.c
		from = { add_deposit = d_exotic_gases_1 }
	}
}

ship_event = {
	id = obsessions_mod_minor.2
	title = "obsessions_mod_minor.2.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			OR = {
				owner = {
					OR = {
						has_ethic = ethic_fanatic_materialist
						has_ethic = ethic_materialist
					}
				}
				leader = {
					OR = {
						has_trait = leader_trait_meticulous
						has_trait = leader_trait_mindful
						has_trait = leader_trait_spark_of_genius
						has_trait = leader_trait_maniacal
						has_trait = leader_trait_scientist_erudite
						has_trait = leader_trait_expertise_industry
						has_trait = leader_trait_scientist_cyborg
						species = {
							has_trait = trait_industrious
							has_trait = trait_natural_engineers
							has_trait = trait_robot_power_drills
							has_trait = trait_robot_efficient_processors
						}
					}
				}
			}
		}
		desc = "obsessions_mod_minor.2.desc"
		option = {
			name = obsessions_mod_minor.2.a
			from = { add_deposit = d_exotic_gases_1 }
		}
	}
	else = {
		desc = "obsessions_mod_minor.2.desc_bad"
		option = {
			name = obsessions_mod_minor.2.b
		}
	}
}

ship_event = {
	id = obsessions_mod_minor.3
	title = "obsessions_mod_minor.3.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			owner = {
				NOT = { has_technology = tech_thrusters_2 }
			}
		}
		desc = "obsessions_mod_minor.3.desc"
		option = {
			name = obsessions_mod_minor.3.a
			add_research_option = tech_thrusters_2
			add_tech_progress = {
				tech = tech_thrusters_2
				progress = 0.1
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.3.desc_bad"
		option = {
			name = obsessions_mod_minor.3.b
		}
	}
}

# Life filled Asteroid
ship_event = {
	id = obsessions_mod_minor.4
	title = "obsessions_mod_minor.4.name"
	desc = "obsessions_mod_minor.4.desc"
	picture = GFX_evt_asteroid_field
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.4.a
		ship_event = { id = obsessions_mod_minor.5 from = FROM }
	}
	option = {
		name = obsessions_mod_minor.4.b
		ship_event = { id = obsessions_mod_minor.6 from = FROM }
	}
	option = {
		trigger = {
			leader = {
				AND = {
					lithoid = no
					OR = {
						has_trait = leader_trait_curator
						has_trait = leader_trait_expertise_biology
						has_trait = leader_trait_expertise_new_worlds
						species = {
							has_trait = trait_agrarian
							has_trait = trait_natural_engineers
							has_trait = trait_natural_sociologists
							has_trait = trait_robot_harvesters
						}
					}
				}
			}
		}
		name = obsessions_mod_minor.4.c
		from = { add_deposit = d_food_3 }
	}
}

ship_event = {
	id = obsessions_mod_minor.5
	title = "obsessions_mod_minor.5.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			AND = {
				leader = {
					lithoid = no
				}
				owner = {
					NOR = {
						has_ethic = ethic_fanatic_xenophobe
						has_ethic = ethic_xenophobe
					}
				}
			}
		}
		desc = "obsessions_mod_minor.5.desc"
		option = {
			name = obsessions_mod_minor.5.a
			from = { add_deposit = d_food_3 }
			if = {
				limit = {
					leader = { NOT = { has_trait = leader_trait_expertise_biology } }
				}
				leader = {
					add_trait = leader_trait_expertise_biology
				}
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.5.desc_bad"
		option = {
			name = obsessions_mod_minor.5.b
			leader = {
				add_trait = leader_trait_maimed
			}
		}
	}
}

ship_event = {
	id = obsessions_mod_minor.6
	title = "obsessions_mod_minor.6.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			OR = {
				leader = {
					lithoid = yes
				}
				owner = {
					OR = {
						has_ethic = ethic_fanatic_xenophobe
						has_ethic = ethic_xenophobe
					}
				}
			}
		}
		desc = "obsessions_mod_minor.6.desc"
		option = {
			name = obsessions_mod_minor.6.a
			if = {
				limit = {
					leader = { NOT = { has_trait = leader_trait_expertise_biology } }
				}
				leader = {
					add_trait = leader_trait_expertise_biology
				}
			}
			else = {
				leader = { add_trait = leader_trait_inspired_surveyor }
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.6.desc_bad"
		option = {
			name = obsessions_mod_minor.6.b
		}
	}
}

# Glitchy Sensors
ship_event = {
	id = obsessions_mod_minor.7
	title = "obsessions_mod_minor.7.name"
	desc = "obsessions_mod_minor.7.desc"
	picture = GFX_evt_asteroid_field
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.7.a
		ship_event = { id = obsessions_mod_minor.8 from = FROM }
	}
	option = {
		name = obsessions_mod_minor.7.b
		ship_event = { id = obsessions_mod_minor.8 from = FROM }
	}
	option = {
		trigger = {
			leader = {
				AND = {
					OR = {
						has_trait = leader_trait_curator
						has_trait = leader_trait_expertise_computing
						has_trait = leader_trait_custom_AI_assistant
						has_trait = leader_trait_sapient_AI_assistant
						has_trait = leader_trait_scientist_cyborg
						has_trait = leader_trait_scientist_synthetic
						has_trait = leader_trait_scientist_adaptable
						species = {
							has_trait = trait_natural_engineers
							has_trait = trait_machine_unit
							has_trait = trait_hive_mind
							has_trait = trait_mechanical
						}
					}
				}
			}
		}
		name = obsessions_mod_minor.7.c
		leader = {
			add_experience = 200
		}
	}
}

ship_event = {
	id = obsessions_mod_minor.8
	title = "obsessions_mod_minor.8.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
			}
		}
		desc = "obsessions_mod_minor.8.desc"
		option = {
			name = obsessions_mod_minor.8.a
			if = {
				limit = {
					leader = { NOT = { has_trait = leader_trait_custom_AI_assistant } }
				}
				leader = {
					add_trait = leader_trait_custom_AI_assistant
				}
			}
			leader = {
				add_experience = 200
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.8.desc_bad"
		option = {
			name = obsessions_mod_minor.8.b
		}
		leader = { add_trait = leader_trait_stubborn }
	}
}

ship_event = {
	id = obsessions_mod_minor.9
	title = "obsessions_mod_minor.9.name"
	picture = GFX_evt_asteroid_field
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			owner = {
				OR = {
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_spiritualist
					has_ethic = ethic_spiritualist
				}
			}
		}
		desc = "obsessions_mod_minor.9.desc"
		option = {
			name = obsessions_mod_minor.9.a
			if = {
				limit = {
					leader = { NOT = { has_trait = leader_trait_custom_AI_assistant } }
				}
				leader = {
					add_trait = leader_trait_custom_AI_assistant
				}
			}
			leader = {
				add_experience = 200
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.9.desc_bad"
		option = {
			name = obsessions_mod_minor.9.b
		}
		leader = { add_trait = leader_trait_stubborn }
	}
}

# Asteroid too hot
ship_event = {
	id = obsessions_mod_minor.10
	title = "obsessions_mod_minor.10.name"
	desc = "obsessions_mod_minor.10.desc"
	picture = GFX_evt_ice_asteroids
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.10.a
		ship_event = { id = obsessions_mod_minor.11 from = FROM }
	}
	option = {
		name = obsessions_mod_minor.10.b
		ship_event = { id = obsessions_mod_minor.12 from = FROM }
	}
	option = {
		trigger = {
			leader = {
				OR = {
					has_trait = leader_trait_curator
					has_trait = leader_trait_expertise_biology
					has_trait = leader_trait_expertise_new_worlds
					has_trait = leader_trait_spark_of_genius
					has_trait = leader_trait_expertise_field_manipulation
					species = {
						has_trait = trait_agrarian
						has_trait = trait_natural_sociologists
						has_trait = trait_robot_harvesters
					}
				}
			}
		}
		name = obsessions_mod_minor.10.c
		from = {
			add_deposit = d_energy_2
			add_deposit = d_society_2
		}
	}
}

ship_event = {
	id = obsessions_mod_minor.11
	title = "obsessions_mod_minor.11.name"
	picture = GFX_evt_ice_asteroids
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophobe
					has_ethic = ethic_gestalt_consciousness
				}
			}
		}
		desc = "obsessions_mod_minor.11.desc"
		option = {
			name = obsessions_mod_minor.11.a
			from = { add_deposit = d_society_2 }
			owner = { add_resource = { energy = 1000 } }
		}
	}
	else = {
		desc = "obsessions_mod_minor.11.desc_bad"
		option = {
			name = obsessions_mod_minor.11.b
			owner = { add_resource = { energy = 2000 } }
		}
	}
}

ship_event = {
	id = obsessions_mod_minor.12
	title = "obsessions_mod_minor.12.name"
	picture = GFX_evt_ice_asteroids
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			owner = {
				NOR = {
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_xenophobe
				}
			}
		}
		desc = "obsessions_mod_minor.12.desc"
		option = {
			name = obsessions_mod_minor.12.a
			from = {
				add_deposit = d_energy_2
				add_deposit = d_society_2
			}
		}
	}
	else = {
		desc = "obsessions_mod_minor.12.desc_bad"
		option = {
			name = obsessions_mod_minor.12.b
			from = {
				add_deposit = d_society_1
			}
		}
	}
}

# Asteroid too cold
ship_event = {
	id = obsessions_mod_minor.13
	title = "obsessions_mod_minor.13.name"
	desc = "obsessions_mod_minor.13.desc"
	picture = GFX_evt_ice_asteroids
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.13.a
		from = { add_deposit = d_rare_crystals_1 }
	}
	option = {
		name = obsessions_mod_minor.13.b
		ship_event = { id = obsessions_mod_minor.14 from = FROM }
	}
}

ship_event = {
	id = obsessions_mod_minor.14
	title = "obsessions_mod_minor.14.name"
	picture = GFX_evt_ice_asteroids
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	if = {
		limit = {
			leader = {
				OR = {
					has_trait = leader_trait_meticulous
					has_trait = leader_trait_expertise_materials
				}
			}
		}
		desc = "obsessions_mod_minor.14.desc"
		option = {
			name = obsessions_mod_minor.14.a
			leader = {
				add_experience = 200
			}
			if = {
				limit = { leader = { has_trait = leader_trait_meticulous } }
				leader = { add_trait = leader_trait_expertise_materials }
			}
			else_if = {
				limit = { leader = { has_trait = leader_trait_expertise_materials } }
				leader = { add_trait = leader_trait_meticulous }
			}
			from = { add_deposit = d_rare_crystals_1 }
		}
	}
	else = {
		desc = "obsessions_mod_minor.14.desc_bad"
		option = {
			name = obsessions_mod_minor.14.b
			leader = {
				add_trait = leader_trait_meticulous
			}
			owner = { add_resource = { rare_crystals = 50 } }
		}
	}
}

# Asteroid Just Right, but metallic
ship_event = {
	id = obsessions_mod_minor.15
	title = "obsessions_mod_minor.15.name"
	desc = "obsessions_mod_minor.15.desc"
	picture = GFX_evt_ice_asteroids
	show_sound = event_scanner
	location = FROM
	is_triggered_only = yes
	auto_opens = yes

	option = {
		name = obsessions_mod_minor.15.a
		from = { add_deposit = d_alloys_1 }
	}
	option = {
		name = obsessions_mod_minor.15.b
		owner = { add_resource = { alloys = 100 } }
		leader = { add_trait = leader_trait_expertise_materials }
	}
}